{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/background.js","src/scripts/utils/ext.js"],"names":[],"mappings":"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","file":"background.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import ext from \"./utils/ext\";\n\nconsole.log(\"Loaded Crypto Browser\");\n\nvar gateway = \"127.0.0.1\";\nvar port = \"7878\";\nvar access = \"PROXY\";\nvar config = {\n  mode: \"pac_script\",\n  pacScript: {\n    data: \"function FindProxyForURL(url, host) {\\n\" +\n    \"  if (dnsDomainIs(host, '.eth'))\\n\" +\n    \"    return '\"+access+\" \"+gateway+\":\"+port+\"';\\n\" +\n    \"  return 'DIRECT';\\n\" +\n    \"}\"\n  }\n};\nchrome.proxy.settings.set({value: config, scope: 'regular'},function() {});\nconsole.log('Set gateway: ' + JSON.stringify((config[\"pacScript\"])));\n\next.webRequest.onBeforeRequest.addListener(\n  loadENSURL,\n  {urls: [\"*://*.eth/*\"], types: [\"main_frame\"]}\n);\n\nfunction loadENSURL(requestDetails) {\n  console.log(\"Eth Url Requested: \" + requestDetails.url);\n  var urlObject = new URL(requestDetails.url);\n  var domainString = getDomainStringOnly(urlObject.hostname);\n  return;\n\n  redirectToENSDomain(domainString, \"eth\", requestDetails, urlObject.pathname + urlObject.hash, requestDetails.url); //Setting .eth statically as the tld for now\n}\n\next.webRequest.onBeforeRequest.addListener(\n respondToGoogleSearch,\n {urls: [\"*://www.google.com/search*\"], types: [\"main_frame\"]},\n [\"blocking\"] //TODO: Add alternate search engines\n);\n\nfunction respondToGoogleSearch(requestDetails) {\n  var query = getQueryVariable(requestDetails.url);\n  if (!query || !query.endsWith(\".eth\") || (/\\s/g.test(query))) {\n    return;\n  }\n\n  console.log(\"Google Search Query: \" + query);\n  var domainString = getDomainStringOnly(query);\n  redirectToENSDomain(domainString, \"eth\", requestDetails);\n}\n\nchrome.tabs.onUpdated.addListener(function (tabId , info) {\n  if (info.status === 'complete') {\n    sessionStorage.setItem(\"loading_status_for_tab\" + tabId, 'complete');\n    console.log(\"Tab finished loading\", info.status);\n  }\n});\n\nfunction getQueryVariable(urlString)\n{\n\tvar urlObject = new URL(urlString);\n\tvar queryString = urlObject.searchParams.get(\"q\");\n\treturn queryString;\n}\n\nfunction getDomainStringOnly(fullDomainString) {\n  var index = fullDomainString.lastIndexOf('.eth');\n  return [fullDomainString.slice(0, index), fullDomainString.slice(index + 1)][0];\n}\n\nfunction redirectToENSDomain(domainString, tld, requestDetails, path, fullUrl)\n{\n  if (sessionStorage.getItem(\"loading_status_for_tab\" + requestDetails['tabId']) == 'loading' || requestDetails[\"method\"] != \"GET\") {\n    return;\n  }\n  sessionStorage.setItem(\"loading_status_for_tab\" + requestDetails['tabId'], 'loading');\n\n  fullUrl = \"http://\" + domainString + \".\" + tld;\n\n  console.log(\"Showing loading page:\");\n  ext.tabs.query({active: true, currentWindow: true}, function (arrayOfTabs) {\n    var activeTab = arrayOfTabs[0];\n    var activeTabId = activeTab.id;\n    ext.tabs.update(activeTabId, {url: ext.extension.getURL('loading.html')});\n\n    console.log(\"Showing .Eth page:\");\n    ext.tabs.query({active: true, currentWindow: true}, function (arrayOfTabs) {\n      var activeTab = arrayOfTabs[0];\n      var activeTabId = activeTab.id;\n      ext.tabs.update(activeTabId, {url: ext.extension.getURL('loading.html')});\n      ext.tabs.update(activeTabId, {url: fullUrl}); // #' + domainString + '.' + tld)});\n    });\n  });\n\n  return {cancel: true};\n}\n\nfunction showIndexWithDomain(domainString) {\n  ext.tabs.query({active: true, currentWindow: true}, function(arrayOfTabs) {\n    var activeTab = arrayOfTabs[0];\n    var activeTabId = activeTab.id;\n    ext.tabs.update(activeTabId, {url: ext.extension.getURL('loading.html')});\n    console.log(\"Show index for \", domainString);\n  });\n}\n\nchrome.browserAction.setPopup({\n  popup: \"popup.html\"\n});\n\next.runtime.onInstalled.addListener(function(details) {\n    if(details.reason == \"install\"){\n      chrome.tabs.create({ url: ext.extension.getURL('index.html?welcome') });\n    } else if(details.reason == \"update\"){\n        var thisVersion = chrome.runtime.getManifest().version;\n    }\n});\n","const apis = [\n  'alarms',\n  'bookmarks',\n  'browserAction',\n  'commands',\n  'contextMenus',\n  'cookies',\n  'downloads',\n  'events',\n  'extension',\n  'extensionTypes',\n  'history',\n  'i18n',\n  'idle',\n  'notifications',\n  'pageAction',\n  'runtime',\n  'storage',\n  'tabs',\n  'webNavigation',\n  'webRequest',\n  'windows',\n]\n\nfunction Extension () {\n  const _this = this\n\n  apis.forEach(function (api) {\n\n    _this[api] = null\n\n    try {\n      if (chrome[api]) {\n        _this[api] = chrome[api]\n      }\n    } catch (e) {}\n\n    try {\n      if (window[api]) {\n        _this[api] = window[api]\n      }\n    } catch (e) {}\n\n    try {\n      if (browser[api]) {\n        _this[api] = browser[api]\n      }\n    } catch (e) {}\n    try {\n      _this.api = browser.extension[api]\n    } catch (e) {}\n  })\n\n  try {\n    if (browser && browser.runtime) {\n      this.runtime = browser.runtime\n    }\n  } catch (e) {}\n\n  try {\n    if (browser && browser.browserAction) {\n      this.browserAction = browser.browserAction\n    }\n  } catch (e) {}\n\n}\n\nmodule.exports = new Extension();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9iYWNrZ3JvdW5kLmpzIiwic3JjL3NjcmlwdHMvdXRpbHMvZXh0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO2FDQUEsa0M7O0FBRUEsUUFBUSxHQUFSLENBQVksdUJBQVo7O0FBRUEsSUFBSSxVQUFVLFdBQWQ7QUFDQSxJQUFJLE9BQU8sTUFBWDtBQUNBLElBQUksU0FBUyxPQUFiO0FBQ0EsSUFBSSxTQUFTO0FBQ1gsUUFBTSxZQURLO0FBRVgsYUFBVztBQUNULFVBQU07QUFDTix3Q0FETTtBQUVOLGtCQUZNLEdBRVMsTUFGVCxHQUVnQixHQUZoQixHQUVvQixPQUZwQixHQUU0QixHQUY1QixHQUVnQyxJQUZoQyxHQUVxQyxNQUZyQztBQUdOLDBCQUhNO0FBSU4sT0FMUyxFQUZBLEVBQWI7OztBQVVBLE9BQU8sS0FBUCxDQUFhLFFBQWIsQ0FBc0IsR0FBdEIsQ0FBMEIsRUFBQyxPQUFPLE1BQVIsRUFBZ0IsT0FBTyxTQUF2QixFQUExQixFQUE0RCxZQUFXLENBQUUsQ0FBekU7QUFDQSxRQUFRLEdBQVIsQ0FBWSxrQkFBa0IsS0FBSyxTQUFMLENBQWdCLE9BQU8sV0FBUCxDQUFoQixDQUE5Qjs7QUFFQSxjQUFJLFVBQUosQ0FBZSxlQUFmLENBQStCLFdBQS9CO0FBQ0UsVUFERjtBQUVFLEVBQUMsTUFBTSxDQUFDLGFBQUQsQ0FBUCxFQUF3QixPQUFPLENBQUMsWUFBRCxDQUEvQixFQUZGOzs7QUFLQSxTQUFTLFVBQVQsQ0FBb0IsY0FBcEIsRUFBb0M7QUFDbEMsVUFBUSxHQUFSLENBQVksd0JBQXdCLGVBQWUsR0FBbkQ7QUFDQSxNQUFJLFlBQVksSUFBSSxHQUFKLENBQVEsZUFBZSxHQUF2QixDQUFoQjtBQUNBLE1BQUksZUFBZSxvQkFBb0IsVUFBVSxRQUE5QixDQUFuQjtBQUNBOztBQUVBLHNCQUFvQixZQUFwQixFQUFrQyxLQUFsQyxFQUF5QyxjQUF6QyxFQUF5RCxVQUFVLFFBQVYsR0FBcUIsVUFBVSxJQUF4RixFQUE4RixlQUFlLEdBQTdHLEVBTmtDLENBTWlGO0FBQ3BIOztBQUVELGNBQUksVUFBSixDQUFlLGVBQWYsQ0FBK0IsV0FBL0I7QUFDQyxxQkFERDtBQUVDLEVBQUMsTUFBTSxDQUFDLDRCQUFELENBQVAsRUFBdUMsT0FBTyxDQUFDLFlBQUQsQ0FBOUMsRUFGRDtBQUdDLENBQUMsVUFBRCxDQUhELENBR2M7QUFIZDs7QUFNQSxTQUFTLHFCQUFULENBQStCLGNBQS9CLEVBQStDO0FBQzdDLE1BQUksUUFBUSxpQkFBaUIsZUFBZSxHQUFoQyxDQUFaO0FBQ0EsTUFBSSxDQUFDLEtBQUQsSUFBVSxDQUFDLE1BQU0sUUFBTixDQUFlLE1BQWYsQ0FBWCxJQUFzQyxNQUFNLElBQU4sQ0FBVyxLQUFYLENBQTFDLEVBQThEO0FBQzVEO0FBQ0Q7O0FBRUQsVUFBUSxHQUFSLENBQVksMEJBQTBCLEtBQXRDO0FBQ0EsTUFBSSxlQUFlLG9CQUFvQixLQUFwQixDQUFuQjtBQUNBLHNCQUFvQixZQUFwQixFQUFrQyxLQUFsQyxFQUF5QyxjQUF6QztBQUNEOztBQUVELE9BQU8sSUFBUCxDQUFZLFNBQVosQ0FBc0IsV0FBdEIsQ0FBa0MsVUFBVSxLQUFWLEVBQWtCLElBQWxCLEVBQXdCO0FBQ3hELE1BQUksS0FBSyxNQUFMLEtBQWdCLFVBQXBCLEVBQWdDO0FBQzlCLG1CQUFlLE9BQWYsQ0FBdUIsMkJBQTJCLEtBQWxELEVBQXlELFVBQXpEO0FBQ0EsWUFBUSxHQUFSLENBQVksc0JBQVosRUFBb0MsS0FBSyxNQUF6QztBQUNEO0FBQ0YsQ0FMRDs7QUFPQSxTQUFTLGdCQUFULENBQTBCLFNBQTFCO0FBQ0E7QUFDQyxNQUFJLFlBQVksSUFBSSxHQUFKLENBQVEsU0FBUixDQUFoQjtBQUNBLE1BQUksY0FBYyxVQUFVLFlBQVYsQ0FBdUIsR0FBdkIsQ0FBMkIsR0FBM0IsQ0FBbEI7QUFDQSxTQUFPLFdBQVA7QUFDQTs7QUFFRCxTQUFTLG1CQUFULENBQTZCLGdCQUE3QixFQUErQztBQUM3QyxNQUFJLFFBQVEsaUJBQWlCLFdBQWpCLENBQTZCLE1BQTdCLENBQVo7QUFDQSxTQUFPLENBQUMsaUJBQWlCLEtBQWpCLENBQXVCLENBQXZCLEVBQTBCLEtBQTFCLENBQUQsRUFBbUMsaUJBQWlCLEtBQWpCLENBQXVCLFFBQVEsQ0FBL0IsQ0FBbkMsRUFBc0UsQ0FBdEUsQ0FBUDtBQUNEOztBQUVELFNBQVMsbUJBQVQsQ0FBNkIsWUFBN0IsRUFBMkMsR0FBM0MsRUFBZ0QsY0FBaEQsRUFBZ0UsSUFBaEUsRUFBc0UsT0FBdEU7QUFDQTtBQUNFLE1BQUksZUFBZSxPQUFmLENBQXVCLDJCQUEyQixlQUFlLE9BQWYsQ0FBbEQsS0FBOEUsU0FBOUUsSUFBMkYsZUFBZSxRQUFmLEtBQTRCLEtBQTNILEVBQWtJO0FBQ2hJO0FBQ0Q7QUFDRCxpQkFBZSxPQUFmLENBQXVCLDJCQUEyQixlQUFlLE9BQWYsQ0FBbEQsRUFBMkUsU0FBM0U7O0FBRUEsWUFBVSxZQUFZLFlBQVosR0FBMkIsR0FBM0IsR0FBaUMsR0FBM0M7O0FBRUEsVUFBUSxHQUFSLENBQVksdUJBQVo7QUFDQSxnQkFBSSxJQUFKLENBQVMsS0FBVCxDQUFlLEVBQUMsUUFBUSxJQUFULEVBQWUsZUFBZSxJQUE5QixFQUFmLEVBQW9ELFVBQVUsV0FBVixFQUF1QjtBQUN6RSxRQUFJLFlBQVksWUFBWSxDQUFaLENBQWhCO0FBQ0EsUUFBSSxjQUFjLFVBQVUsRUFBNUI7QUFDQSxrQkFBSSxJQUFKLENBQVMsTUFBVCxDQUFnQixXQUFoQixFQUE2QixFQUFDLEtBQUssY0FBSSxTQUFKLENBQWMsTUFBZCxDQUFxQixjQUFyQixDQUFOLEVBQTdCOztBQUVBLFlBQVEsR0FBUixDQUFZLG9CQUFaO0FBQ0Esa0JBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxFQUFDLFFBQVEsSUFBVCxFQUFlLGVBQWUsSUFBOUIsRUFBZixFQUFvRCxVQUFVLFdBQVYsRUFBdUI7QUFDekUsVUFBSSxZQUFZLFlBQVksQ0FBWixDQUFoQjtBQUNBLFVBQUksY0FBYyxVQUFVLEVBQTVCO0FBQ0Esb0JBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsV0FBaEIsRUFBNkIsRUFBQyxLQUFLLGNBQUksU0FBSixDQUFjLE1BQWQsQ0FBcUIsY0FBckIsQ0FBTixFQUE3QjtBQUNBLG9CQUFJLElBQUosQ0FBUyxNQUFULENBQWdCLFdBQWhCLEVBQTZCLEVBQUMsS0FBSyxPQUFOLEVBQTdCLEVBSnlFLENBSTNCO0FBQy9DLEtBTEQ7QUFNRCxHQVpEOztBQWNBLFNBQU8sRUFBQyxRQUFRLElBQVQsRUFBUDtBQUNEOztBQUVELFNBQVMsbUJBQVQsQ0FBNkIsWUFBN0IsRUFBMkM7QUFDekMsZ0JBQUksSUFBSixDQUFTLEtBQVQsQ0FBZSxFQUFDLFFBQVEsSUFBVCxFQUFlLGVBQWUsSUFBOUIsRUFBZixFQUFvRCxVQUFTLFdBQVQsRUFBc0I7QUFDeEUsUUFBSSxZQUFZLFlBQVksQ0FBWixDQUFoQjtBQUNBLFFBQUksY0FBYyxVQUFVLEVBQTVCO0FBQ0Esa0JBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsV0FBaEIsRUFBNkIsRUFBQyxLQUFLLGNBQUksU0FBSixDQUFjLE1BQWQsQ0FBcUIsY0FBckIsQ0FBTixFQUE3QjtBQUNBLFlBQVEsR0FBUixDQUFZLGlCQUFaLEVBQStCLFlBQS9CO0FBQ0QsR0FMRDtBQU1EOztBQUVELE9BQU8sYUFBUCxDQUFxQixRQUFyQixDQUE4QjtBQUM1QixTQUFPLFlBRHFCLEVBQTlCOzs7QUFJQSxjQUFJLE9BQUosQ0FBWSxXQUFaLENBQXdCLFdBQXhCLENBQW9DLFVBQVMsT0FBVCxFQUFrQjtBQUNsRCxNQUFHLFFBQVEsTUFBUixJQUFrQixTQUFyQixFQUErQjtBQUM3QixXQUFPLElBQVAsQ0FBWSxNQUFaLENBQW1CLEVBQUUsS0FBSyxjQUFJLFNBQUosQ0FBYyxNQUFkLENBQXFCLG9CQUFyQixDQUFQLEVBQW5CO0FBQ0QsR0FGRCxNQUVPLElBQUcsUUFBUSxNQUFSLElBQWtCLFFBQXJCLEVBQThCO0FBQ2pDLFFBQUksY0FBYyxPQUFPLE9BQVAsQ0FBZSxXQUFmLEdBQTZCLE9BQS9DO0FBQ0g7QUFDSixDQU5EOzs7YUM5R0EsSUFBTSxPQUFPO0FBQ1gsUUFEVztBQUVYLFdBRlc7QUFHWCxlQUhXO0FBSVgsVUFKVztBQUtYLGNBTFc7QUFNWCxTQU5XO0FBT1gsV0FQVztBQVFYLFFBUlc7QUFTWCxXQVRXO0FBVVgsZ0JBVlc7QUFXWCxTQVhXO0FBWVgsTUFaVztBQWFYLE1BYlc7QUFjWCxlQWRXO0FBZVgsWUFmVztBQWdCWCxTQWhCVztBQWlCWCxTQWpCVztBQWtCWCxNQWxCVztBQW1CWCxlQW5CVztBQW9CWCxZQXBCVztBQXFCWCxTQXJCVyxDQUFiOzs7QUF3QkEsU0FBUyxTQUFULEdBQXNCO0FBQ3BCLE1BQU0sUUFBUSxJQUFkOztBQUVBLE9BQUssT0FBTCxDQUFhLFVBQVUsR0FBVixFQUFlOztBQUUxQixVQUFNLEdBQU4sSUFBYSxJQUFiOztBQUVBLFFBQUk7QUFDRixVQUFJLE9BQU8sR0FBUCxDQUFKLEVBQWlCO0FBQ2YsY0FBTSxHQUFOLElBQWEsT0FBTyxHQUFQLENBQWI7QUFDRDtBQUNGLEtBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFOztBQUVkLFFBQUk7QUFDRixVQUFJLE9BQU8sR0FBUCxDQUFKLEVBQWlCO0FBQ2YsY0FBTSxHQUFOLElBQWEsT0FBTyxHQUFQLENBQWI7QUFDRDtBQUNGLEtBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFOztBQUVkLFFBQUk7QUFDRixVQUFJLFFBQVEsR0FBUixDQUFKLEVBQWtCO0FBQ2hCLGNBQU0sR0FBTixJQUFhLFFBQVEsR0FBUixDQUFiO0FBQ0Q7QUFDRixLQUpELENBSUUsT0FBTyxDQUFQLEVBQVUsQ0FBRTtBQUNkLFFBQUk7QUFDRixZQUFNLEdBQU4sR0FBWSxRQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBWjtBQUNELEtBRkQsQ0FFRSxPQUFPLENBQVAsRUFBVSxDQUFFO0FBQ2YsR0F4QkQ7O0FBMEJBLE1BQUk7QUFDRixRQUFJLFdBQVcsUUFBUSxPQUF2QixFQUFnQztBQUM5QixXQUFLLE9BQUwsR0FBZSxRQUFRLE9BQXZCO0FBQ0Q7QUFDRixHQUpELENBSUUsT0FBTyxDQUFQLEVBQVUsQ0FBRTs7QUFFZCxNQUFJO0FBQ0YsUUFBSSxXQUFXLFFBQVEsYUFBdkIsRUFBc0M7QUFDcEMsV0FBSyxhQUFMLEdBQXFCLFFBQVEsYUFBN0I7QUFDRDtBQUNGLEdBSkQsQ0FJRSxPQUFPLENBQVAsRUFBVSxDQUFFOztBQUVmOztBQUVELE9BQU8sT0FBUCxHQUFpQixJQUFJLFNBQUosRUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgZXh0IGZyb20gXCIuL3V0aWxzL2V4dFwiO1xuXG5jb25zb2xlLmxvZyhcIkxvYWRlZCBDcnlwdG8gQnJvd3NlclwiKTtcblxudmFyIGdhdGV3YXkgPSBcIjEyNy4wLjAuMVwiO1xudmFyIHBvcnQgPSBcIjc4NzhcIjtcbnZhciBhY2Nlc3MgPSBcIlBST1hZXCI7XG52YXIgY29uZmlnID0ge1xuICBtb2RlOiBcInBhY19zY3JpcHRcIixcbiAgcGFjU2NyaXB0OiB7XG4gICAgZGF0YTogXCJmdW5jdGlvbiBGaW5kUHJveHlGb3JVUkwodXJsLCBob3N0KSB7XFxuXCIgK1xuICAgIFwiICBpZiAoZG5zRG9tYWluSXMoaG9zdCwgJy5ldGgnKSlcXG5cIiArXG4gICAgXCIgICAgcmV0dXJuICdcIithY2Nlc3MrXCIgXCIrZ2F0ZXdheStcIjpcIitwb3J0K1wiJztcXG5cIiArXG4gICAgXCIgIHJldHVybiAnRElSRUNUJztcXG5cIiArXG4gICAgXCJ9XCJcbiAgfVxufTtcbmNocm9tZS5wcm94eS5zZXR0aW5ncy5zZXQoe3ZhbHVlOiBjb25maWcsIHNjb3BlOiAncmVndWxhcid9LGZ1bmN0aW9uKCkge30pO1xuY29uc29sZS5sb2coJ1NldCBnYXRld2F5OiAnICsgSlNPTi5zdHJpbmdpZnkoKGNvbmZpZ1tcInBhY1NjcmlwdFwiXSkpKTtcblxuZXh0LndlYlJlcXVlc3Qub25CZWZvcmVSZXF1ZXN0LmFkZExpc3RlbmVyKFxuICBsb2FkRU5TVVJMLFxuICB7dXJsczogW1wiKjovLyouZXRoLypcIl0sIHR5cGVzOiBbXCJtYWluX2ZyYW1lXCJdfVxuKTtcblxuZnVuY3Rpb24gbG9hZEVOU1VSTChyZXF1ZXN0RGV0YWlscykge1xuICBjb25zb2xlLmxvZyhcIkV0aCBVcmwgUmVxdWVzdGVkOiBcIiArIHJlcXVlc3REZXRhaWxzLnVybCk7XG4gIHZhciB1cmxPYmplY3QgPSBuZXcgVVJMKHJlcXVlc3REZXRhaWxzLnVybCk7XG4gIHZhciBkb21haW5TdHJpbmcgPSBnZXREb21haW5TdHJpbmdPbmx5KHVybE9iamVjdC5ob3N0bmFtZSk7XG4gIHJldHVybjtcblxuICByZWRpcmVjdFRvRU5TRG9tYWluKGRvbWFpblN0cmluZywgXCJldGhcIiwgcmVxdWVzdERldGFpbHMsIHVybE9iamVjdC5wYXRobmFtZSArIHVybE9iamVjdC5oYXNoLCByZXF1ZXN0RGV0YWlscy51cmwpOyAvL1NldHRpbmcgLmV0aCBzdGF0aWNhbGx5IGFzIHRoZSB0bGQgZm9yIG5vd1xufVxuXG5leHQud2ViUmVxdWVzdC5vbkJlZm9yZVJlcXVlc3QuYWRkTGlzdGVuZXIoXG4gcmVzcG9uZFRvR29vZ2xlU2VhcmNoLFxuIHt1cmxzOiBbXCIqOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoKlwiXSwgdHlwZXM6IFtcIm1haW5fZnJhbWVcIl19LFxuIFtcImJsb2NraW5nXCJdIC8vVE9ETzogQWRkIGFsdGVybmF0ZSBzZWFyY2ggZW5naW5lc1xuKTtcblxuZnVuY3Rpb24gcmVzcG9uZFRvR29vZ2xlU2VhcmNoKHJlcXVlc3REZXRhaWxzKSB7XG4gIHZhciBxdWVyeSA9IGdldFF1ZXJ5VmFyaWFibGUocmVxdWVzdERldGFpbHMudXJsKTtcbiAgaWYgKCFxdWVyeSB8fCAhcXVlcnkuZW5kc1dpdGgoXCIuZXRoXCIpIHx8ICgvXFxzL2cudGVzdChxdWVyeSkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc29sZS5sb2coXCJHb29nbGUgU2VhcmNoIFF1ZXJ5OiBcIiArIHF1ZXJ5KTtcbiAgdmFyIGRvbWFpblN0cmluZyA9IGdldERvbWFpblN0cmluZ09ubHkocXVlcnkpO1xuICByZWRpcmVjdFRvRU5TRG9tYWluKGRvbWFpblN0cmluZywgXCJldGhcIiwgcmVxdWVzdERldGFpbHMpO1xufVxuXG5jaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHRhYklkICwgaW5mbykge1xuICBpZiAoaW5mby5zdGF0dXMgPT09ICdjb21wbGV0ZScpIHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwibG9hZGluZ19zdGF0dXNfZm9yX3RhYlwiICsgdGFiSWQsICdjb21wbGV0ZScpO1xuICAgIGNvbnNvbGUubG9nKFwiVGFiIGZpbmlzaGVkIGxvYWRpbmdcIiwgaW5mby5zdGF0dXMpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0UXVlcnlWYXJpYWJsZSh1cmxTdHJpbmcpXG57XG5cdHZhciB1cmxPYmplY3QgPSBuZXcgVVJMKHVybFN0cmluZyk7XG5cdHZhciBxdWVyeVN0cmluZyA9IHVybE9iamVjdC5zZWFyY2hQYXJhbXMuZ2V0KFwicVwiKTtcblx0cmV0dXJuIHF1ZXJ5U3RyaW5nO1xufVxuXG5mdW5jdGlvbiBnZXREb21haW5TdHJpbmdPbmx5KGZ1bGxEb21haW5TdHJpbmcpIHtcbiAgdmFyIGluZGV4ID0gZnVsbERvbWFpblN0cmluZy5sYXN0SW5kZXhPZignLmV0aCcpO1xuICByZXR1cm4gW2Z1bGxEb21haW5TdHJpbmcuc2xpY2UoMCwgaW5kZXgpLCBmdWxsRG9tYWluU3RyaW5nLnNsaWNlKGluZGV4ICsgMSldWzBdO1xufVxuXG5mdW5jdGlvbiByZWRpcmVjdFRvRU5TRG9tYWluKGRvbWFpblN0cmluZywgdGxkLCByZXF1ZXN0RGV0YWlscywgcGF0aCwgZnVsbFVybClcbntcbiAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJsb2FkaW5nX3N0YXR1c19mb3JfdGFiXCIgKyByZXF1ZXN0RGV0YWlsc1sndGFiSWQnXSkgPT0gJ2xvYWRpbmcnIHx8IHJlcXVlc3REZXRhaWxzW1wibWV0aG9kXCJdICE9IFwiR0VUXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcImxvYWRpbmdfc3RhdHVzX2Zvcl90YWJcIiArIHJlcXVlc3REZXRhaWxzWyd0YWJJZCddLCAnbG9hZGluZycpO1xuXG4gIGZ1bGxVcmwgPSBcImh0dHA6Ly9cIiArIGRvbWFpblN0cmluZyArIFwiLlwiICsgdGxkO1xuXG4gIGNvbnNvbGUubG9nKFwiU2hvd2luZyBsb2FkaW5nIHBhZ2U6XCIpO1xuICBleHQudGFicy5xdWVyeSh7YWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlfSwgZnVuY3Rpb24gKGFycmF5T2ZUYWJzKSB7XG4gICAgdmFyIGFjdGl2ZVRhYiA9IGFycmF5T2ZUYWJzWzBdO1xuICAgIHZhciBhY3RpdmVUYWJJZCA9IGFjdGl2ZVRhYi5pZDtcbiAgICBleHQudGFicy51cGRhdGUoYWN0aXZlVGFiSWQsIHt1cmw6IGV4dC5leHRlbnNpb24uZ2V0VVJMKCdsb2FkaW5nLmh0bWwnKX0pO1xuXG4gICAgY29uc29sZS5sb2coXCJTaG93aW5nIC5FdGggcGFnZTpcIik7XG4gICAgZXh0LnRhYnMucXVlcnkoe2FjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZX0sIGZ1bmN0aW9uIChhcnJheU9mVGFicykge1xuICAgICAgdmFyIGFjdGl2ZVRhYiA9IGFycmF5T2ZUYWJzWzBdO1xuICAgICAgdmFyIGFjdGl2ZVRhYklkID0gYWN0aXZlVGFiLmlkO1xuICAgICAgZXh0LnRhYnMudXBkYXRlKGFjdGl2ZVRhYklkLCB7dXJsOiBleHQuZXh0ZW5zaW9uLmdldFVSTCgnbG9hZGluZy5odG1sJyl9KTtcbiAgICAgIGV4dC50YWJzLnVwZGF0ZShhY3RpdmVUYWJJZCwge3VybDogZnVsbFVybH0pOyAvLyAjJyArIGRvbWFpblN0cmluZyArICcuJyArIHRsZCl9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtjYW5jZWw6IHRydWV9O1xufVxuXG5mdW5jdGlvbiBzaG93SW5kZXhXaXRoRG9tYWluKGRvbWFpblN0cmluZykge1xuICBleHQudGFicy5xdWVyeSh7YWN0aXZlOiB0cnVlLCBjdXJyZW50V2luZG93OiB0cnVlfSwgZnVuY3Rpb24oYXJyYXlPZlRhYnMpIHtcbiAgICB2YXIgYWN0aXZlVGFiID0gYXJyYXlPZlRhYnNbMF07XG4gICAgdmFyIGFjdGl2ZVRhYklkID0gYWN0aXZlVGFiLmlkO1xuICAgIGV4dC50YWJzLnVwZGF0ZShhY3RpdmVUYWJJZCwge3VybDogZXh0LmV4dGVuc2lvbi5nZXRVUkwoJ2xvYWRpbmcuaHRtbCcpfSk7XG4gICAgY29uc29sZS5sb2coXCJTaG93IGluZGV4IGZvciBcIiwgZG9tYWluU3RyaW5nKTtcbiAgfSk7XG59XG5cbmNocm9tZS5icm93c2VyQWN0aW9uLnNldFBvcHVwKHtcbiAgcG9wdXA6IFwicG9wdXAuaHRtbFwiXG59KTtcblxuZXh0LnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24oZGV0YWlscykge1xuICAgIGlmKGRldGFpbHMucmVhc29uID09IFwiaW5zdGFsbFwiKXtcbiAgICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7IHVybDogZXh0LmV4dGVuc2lvbi5nZXRVUkwoJ2luZGV4Lmh0bWw/d2VsY29tZScpIH0pO1xuICAgIH0gZWxzZSBpZihkZXRhaWxzLnJlYXNvbiA9PSBcInVwZGF0ZVwiKXtcbiAgICAgICAgdmFyIHRoaXNWZXJzaW9uID0gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uO1xuICAgIH1cbn0pO1xuIiwiY29uc3QgYXBpcyA9IFtcbiAgJ2FsYXJtcycsXG4gICdib29rbWFya3MnLFxuICAnYnJvd3NlckFjdGlvbicsXG4gICdjb21tYW5kcycsXG4gICdjb250ZXh0TWVudXMnLFxuICAnY29va2llcycsXG4gICdkb3dubG9hZHMnLFxuICAnZXZlbnRzJyxcbiAgJ2V4dGVuc2lvbicsXG4gICdleHRlbnNpb25UeXBlcycsXG4gICdoaXN0b3J5JyxcbiAgJ2kxOG4nLFxuICAnaWRsZScsXG4gICdub3RpZmljYXRpb25zJyxcbiAgJ3BhZ2VBY3Rpb24nLFxuICAncnVudGltZScsXG4gICdzdG9yYWdlJyxcbiAgJ3RhYnMnLFxuICAnd2ViTmF2aWdhdGlvbicsXG4gICd3ZWJSZXF1ZXN0JyxcbiAgJ3dpbmRvd3MnLFxuXVxuXG5mdW5jdGlvbiBFeHRlbnNpb24gKCkge1xuICBjb25zdCBfdGhpcyA9IHRoaXNcblxuICBhcGlzLmZvckVhY2goZnVuY3Rpb24gKGFwaSkge1xuXG4gICAgX3RoaXNbYXBpXSA9IG51bGxcblxuICAgIHRyeSB7XG4gICAgICBpZiAoY2hyb21lW2FwaV0pIHtcbiAgICAgICAgX3RoaXNbYXBpXSA9IGNocm9tZVthcGldXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIHRyeSB7XG4gICAgICBpZiAod2luZG93W2FwaV0pIHtcbiAgICAgICAgX3RoaXNbYXBpXSA9IHdpbmRvd1thcGldXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIHRyeSB7XG4gICAgICBpZiAoYnJvd3NlclthcGldKSB7XG4gICAgICAgIF90aGlzW2FwaV0gPSBicm93c2VyW2FwaV1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBfdGhpcy5hcGkgPSBicm93c2VyLmV4dGVuc2lvblthcGldXG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSlcblxuICB0cnkge1xuICAgIGlmIChicm93c2VyICYmIGJyb3dzZXIucnVudGltZSkge1xuICAgICAgdGhpcy5ydW50aW1lID0gYnJvd3Nlci5ydW50aW1lXG4gICAgfVxuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgaWYgKGJyb3dzZXIgJiYgYnJvd3Nlci5icm93c2VyQWN0aW9uKSB7XG4gICAgICB0aGlzLmJyb3dzZXJBY3Rpb24gPSBicm93c2VyLmJyb3dzZXJBY3Rpb25cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRXh0ZW5zaW9uKCk7Il19"}